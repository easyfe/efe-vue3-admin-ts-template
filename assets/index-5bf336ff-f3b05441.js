import"./index-ec73960c.js";import{U as e}from"./index-1c6e8058-8090dd3d.js";import{M as t,b0 as o}from"./ui-86ee226e.js";import{e as a,c as i,h as s,q as r,C as l,v as n,x as u}from"./core-661414b1.js";const m=a({name:"Upload",__name:"index",props:{modelValue:{default:()=>[]},maxSize:{default:0}},emits:["update:modelValue"],setup(a,{emit:m}){const d=a,f=i({get:()=>d.modelValue,set:e=>{m("update:modelValue",e)}});function p(e){return new Promise(((o,a)=>{if(d.maxSize&&e.size>1024*d.maxSize){const e=function(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(2)+" KB":e<1073741824?(e/1048576).toFixed(2)+" MB":(e/1073741824).toFixed(2)+" GB"}(1024*d.maxSize);t.error(`文件大小不能超过${e}`),a(!1)}o(!0)}))}function x(){t.error("超出文件数量限制")}return(t,a)=>{const i=o;return s(),r(e,null,{default:l((()=>[n(i,u({"file-list":f.value,"onUpdate:fileList":a[0]||(a[0]=e=>f.value=e),"on-before-upload":p},t.$attrs,{onExceedLimit:x}),null,16,["file-list"])])),_:1})}}});export{m as default};
